# Product Requirements Document (PRD)

**Product:** Bippi  
**Version:** 1.0  
**Date:** October 27, 2025  
**Owner:** Development Team  
**Status:** üü° Planning

---

## 1. Product Vision

### Problem Statement

Canadian shoppers who buy groceries at multiple retailers (Costco, No Frills, Loblaws, Walmart) face three critical problems:

1. **No real-time budget control** while shopping in-store
2. **Fragmented purchase history** across different retailer apps
3. **Zero visibility** on which store offers better prices for their recurring purchases

**Para qui√©n:** Multi-store grocery shoppers in Canada (primary market: Toronto/GTA)

**El problema es:** Lack of unified shopping tracking and inability to compare prices across retailers

**Actualmente ellos:** Use individual retailer apps (PC Express, Walmart app) that only work within one store ecosystem, or manually track spending with pen/paper or basic calculators

**Nuestro producto:** Universal grocery scanner that works across ALL stores, providing real-time budget tracking and crowdsourced price intelligence

### Core Value Proposition

"Scan at any grocery store ‚Üí Track spending in real-time ‚Üí Know where to buy cheaper next time"

---

## 2. User Personas

### Primary User: Multi-Store Shopper

- **Context:** Canadian shopper who regularly buys groceries at 2-3+ different retailers to optimize price/convenience
- **Goal:** Stay within monthly grocery budget and maximize savings without manual price tracking
- **Pain:** Frustration from not knowing total cart value until checkout, and inability to compare if they're overpaying vs other stores
- **Tech Level:** Medium - comfortable with mobile apps, expects seamless UX similar to Venmo/Uber

**Key Behaviors:**

- Shops 2-4 times per week across multiple stores
- Has monthly grocery budget ($400-800)
- Willing to drive to different stores if savings justify it
- Uses phone while shopping (making lists, checking recipes)

---

## 3. Core User Stories

### üéØ Must Have (MVP - 6 Weeks)

#### Story 1: Account Creation

**Como** nuevo usuario  
**Quiero** crear cuenta r√°pidamente con email o Google/Apple  
**Para** empezar a trackear mis compras inmediatamente

- **AC:** User can sign up with email + password
- **AC:** User can sign up with Google/Apple social login
- **AC:** User is redirected to dashboard after successful signup
- **AC:** Session persists across app restarts

#### Story 2: Real-Time Shopping Calculator

**Como** shopper en el supermercado  
**Quiero** escanear productos y ver mi total en tiempo real  
**Para** asegurarme de no pasarme de mi presupuesto

- **AC:** User can open camera scanner from main screen
- **AC:** Scanner recognizes standard barcodes (UPC-A, EAN-13)
- **AC:** After scanning, user can input price for that item
- **AC:** Running total updates immediately after adding item
- **AC:** User can see list of all scanned items with individual prices
- **AC:** User can manually add items if scanner fails

#### Story 3: Complete Purchase Session

**Como** shopper al terminar mi compra  
**Quiero** guardar mi sesi√≥n de shopping completa  
**Para** tener historial de cu√°nto gast√© y d√≥nde

- **AC:** User can tap "Finish Shopping" to save session
- **AC:** System prompts for store name/location
- **AC:** Purchase saves with: date, store, total, itemized list
- **AC:** User returns to dashboard after saving
- **AC:** Purchase appears immediately in history

#### Story 4: Dashboard Overview

**Como** usuario activo  
**Quiero** ver cu√°nto he gastado este mes al abrir la app  
**Para** tener contexto r√°pido de mi situaci√≥n financiera

- **AC:** Dashboard shows total spending for current month
- **AC:** Dashboard shows user-defined budget target
- **AC:** Visual progress bar indicates budget usage
- **AC:** Recent purchases list shows last 5-10 trips with date/store/total

#### Story 5: Purchase History

**Como** usuario  
**Quiero** ver todas mis compras pasadas en orden cronol√≥gico  
**Para** revisar mis patrones de gasto y encontrar compras espec√≠ficas

- **AC:** History screen shows all purchases sorted by date (newest first)
- **AC:** Each purchase shows: store name, date, total amount
- **AC:** Tapping a purchase shows itemized list of products
- **AC:** User can filter by store or date range
- **AC:** User can delete individual purchases

#### Story 6: Frequent Products List

**Como** usuario recurrente  
**Quiero** ver lista de productos que compro frecuentemente  
**Para** identificar qu√© estoy comprando regularmente

- **AC:** System auto-generates list from scanned items
- **AC:** Products show: name, last price paid, last store
- **AC:** List updates automatically as user scans more
- **AC:** Tapping product shows basic info (future: price history across stores)

#### Story 7: Budget Setting

**Como** usuario consciente de mi gasto  
**Quiero** definir mi presupuesto mensual de groceries  
**Para** que la app me ayude a mantenerme dentro de l√≠mites

- **AC:** User can set monthly budget amount in settings
- **AC:** Budget can be edited anytime
- **AC:** Dashboard reflects new budget immediately
- **AC:** Default budget is $600 if not set

---

### üìà Should Have (Post-MVP - Phase 2)

- **Price Comparison:** Ver precio hist√≥rico de cada producto across stores
- **Smart Alerts:** "Compraste X en Loblaws por $5, en No Frills est√° a $3.50"
- **Shopping List Optimizer:** Sugerencia de qu√© tienda usar basado en lista
- **Receipt Photo Upload:** Alternative to manual scanning

### üí° Could Have (Future - Phase 3+)

- **AI Conversational Interface:** Chat con Claude para insights de gasto
- **Shared Budgets:** Presupuestos conjuntos con pareja/roommates
- **Cashback Integration:** Links a apps de delivery con affiliate commissions
- **Geolocation Auto-Detect:** Detectar tienda autom√°ticamente al escanear

---

## 4. Functional Scope

### In Scope ‚úÖ

- Authentication (email/password + social login)
- Barcode scanner with camera
- Manual price entry per item
- Real-time cart calculator
- Purchase session management (start/save/view)
- Monthly spending dashboard
- Purchase history with filters
- Frequent products list
- Budget setting and tracking
- Manual item entry (fallback if scanner fails)

### Out of Scope ‚ùå

- Price comparison across stores (Phase 2)
- AI/conversational features (Phase 3)
- Shared budgets/splits (Phase 3)
- Receipt OCR/photo upload (Phase 2)
- Push notifications (Phase 2)
- Export to CSV/PDF (Phase 2)
- Integration with bank accounts (Future)
- Loyalty program integrations (Future)

---

## 5. Technical Requirements

### Stack

- **Mobile Frontend:** React Native 0.72.6 + Expo ~49.0.0
- **Language:** TypeScript
- **Backend:** FastAPI (Python 3.11+)
- **Database:** PostgreSQL 15+ (Supabase managed)
- **Authentication:** Supabase Auth
- **Cache:** Redis (for future performance optimization)
- **Hosting:**
  - Frontend: Expo Go (beta) ‚Üí App Store/Play Store (production)
  - Backend: Railway or Render
  - Database: Supabase cloud

### Key Libraries

```json
{
  "expo-barcode-scanner": "~12.5.3",
  "expo-camera": "~13.4.4",
  "@react-navigation/native": "^6.1.9",
  "react-native-async-storage": "^1.19.3",
  "@supabase/supabase-js": "^2.38.0"
}
```

### Non-Functional Requirements

- **Performance:**
  - Scanner recognition < 1 second in good lighting
  - API response time < 200ms p95
  - App launch time < 2 seconds
- **Security:**
  - HTTPS for all API calls
  - Row-level security (RLS) on database
  - No storage of sensitive payment data
  - Password hashing via Supabase Auth (bcrypt)
- **Usability:**
  - Scanner works in typical grocery store lighting
  - Clear visual feedback on successful scans
  - Graceful fallback to manual entry
  - Offline-first cart (sync when connection available)
- **Accessibility:**
  - WCAG 2.1 AA minimum
  - Readable font sizes (16px+ body text)
  - High contrast mode support

### External Dependencies

- **Supabase:** Authentication, database, storage
- **Expo:** Cross-platform mobile development, barcode scanning
- **Product Database (Future):** Will need barcode ‚Üí product name lookup service (consider Open Food Facts API or proprietary DB)

---

## 6. Data Model

### Core Entities

```typescript
User {
  id: UUID (PK)
  email: string (unique)
  name?: string
  monthly_budget: decimal (default: 600.00)
  created_at: timestamp
}

Purchase {
  id: UUID (PK)
  user_id: UUID (FK ‚Üí User)
  store_name: string
  total_amount: decimal
  purchase_date: timestamp
  latitude?: decimal
  longitude?: decimal
}

Item {
  id: UUID (PK)
  purchase_id: UUID (FK ‚Üí Purchase)
  barcode?: string
  product_name: string
  price: decimal
  created_at: timestamp
}

Product {
  id: UUID (PK)
  barcode: string (unique)
  common_name: string
  category?: string
  created_at: timestamp
}

PriceHistory {
  id: UUID (PK)
  product_id: UUID (FK ‚Üí Product)
  store_name: string
  price: decimal
  latitude?: decimal
  longitude?: decimal
  reported_by: UUID (FK ‚Üí User)
  reported_at: timestamp
}
```

### Key Relationships

- User ‚Üí Purchases (1:N) - One user has many shopping sessions
- Purchase ‚Üí Items (1:N) - One purchase contains many items
- Product ‚Üí PriceHistory (1:N) - One product has price records across stores/time
- Item.barcode optionally links to Product.barcode for future price comparison

### Data Privacy

- User data isolated by `user_id` via Supabase RLS
- Location data (lat/long) only stored if user grants permission
- PriceHistory anonymized (no direct link to user identity in queries)

---

## 7. MVP Definition

### What Gets Built First

**Timeline:** 6 weeks (Launch: December 8, 2025)

**Week 1-2: Scanner Foundation**

- ‚úÖ Barcode scanner with camera access
- ‚úÖ Manual price entry form
- ‚úÖ Running total calculation
- ‚úÖ Item list display
- ‚úÖ Camera permissions handling (iOS/Android)

**Week 3-4: Backend + Data Flow**

- ‚úÖ Supabase project setup + schema deployment
- ‚úÖ FastAPI server with core endpoints
- ‚úÖ Authentication flow (signup/login)
- ‚úÖ Purchase creation API
- ‚úÖ Purchase history retrieval

**Week 5-6: Dashboard + Polish**

- ‚úÖ Dashboard with monthly spending
- ‚úÖ Purchase history screen with filters
- ‚úÖ Frequent products list
- ‚úÖ Budget setting interface
- ‚úÖ Error handling + loading states
- ‚úÖ Beta deployment (TestFlight/Play Store internal testing)

**Definition of Done (MVP Complete):**

- [ ] 10 beta users can complete end-to-end flow: signup ‚Üí scan products ‚Üí save purchase ‚Üí view history
- [ ] Scanner success rate >85% in real grocery store environment
- [ ] Zero critical bugs (data loss, crashes, auth failures)
- [ ] All 7 core user stories meet acceptance criteria

---

## 8. Risks & Assumptions

### Assumptions

- [ ] Users are willing to manually scan products while shopping (not too much friction)
- [ ] Typical grocery store lighting is sufficient for barcode scanning
- [ ] Users shop at 2+ stores regularly (validates multi-retailer value prop)
- [ ] Product barcodes are standardized across retailers (same UPC for same product)
- [ ] 10 beta testers are representative of broader target market

### Risks

| Risk                                                                                                  | Impact    | Mitigation                                                                                                                                                            |
| ----------------------------------------------------------------------------------------------------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Scanner UX too clunky** - Users find scanning every item tedious in real store environment          | üî¥ High   | Week 1-2 in-store testing with team. Always provide manual entry fallback. Consider receipt photo upload as Phase 2 alternative.                                      |
| **Low lighting performance** - Scanner fails frequently in dark aisles or poor grocery store lighting | üü° Medium | Test in 3+ different stores during Week 1. Implement torch/flashlight toggle. Clear error messages guiding to manual entry.                                           |
| **Cold start problem** - Price comparison feature useless without crowdsourced data                   | üü° Medium | Phase 1 focuses on personal tracking (immediate value). Price comparison is Phase 2 after user base grows. Seed database with manual entries if needed.               |
| **Barcode database gaps** - Scanned products don't match to product names                             | üü° Medium | Allow users to manually name products. Build proprietary DB over time. Consider Open Food Facts API integration.                                                      |
| **User abandonment after 1 use** - Novelty wears off, users don't return                              | üî¥ High   | Beta testing must validate habit formation (2+ shopping trips per user in 2 weeks). If not validated, pivot to receipt photo upload or other lower-friction approach. |

---

## 9. Release Plan

### Phase 1: Foundation (Weeks 1-2)

**Focus:** Core scanner functionality

- Setup React Native + Expo project
- Implement barcode scanner with camera
- Build manual price entry UI
- Create running total component
- Test scanner in real stores (Loblaws, No Frills, Walmart)
- Handle camera permissions properly

**Deliverable:** Working scanner prototype that team can use in-store

---

### Phase 2: Backend Integration (Weeks 3-4)

**Focus:** Data persistence and authentication

- Deploy Supabase project + PostgreSQL schema
- Setup FastAPI server with CRUD endpoints
- Implement authentication (email/password + social)
- Connect scanner ‚Üí API ‚Üí database flow
- Build purchase history retrieval logic
- Test full cycle: scan ‚Üí save ‚Üí retrieve

**Deliverable:** End-to-end functional app (no polish yet)

---

### Phase 3: Dashboard & Beta Launch (Weeks 5-6)

**Focus:** User-facing polish and testing

- Build dashboard with monthly spending summary
- Create purchase history screen with filters
- Implement frequent products list
- Add budget setting feature
- Error handling + loading states
- Beta deployment to TestFlight (iOS) + Play Store Internal (Android)
- Onboard 10 beta testers
- Weekly check-ins with beta cohort

**Deliverable:** Beta-ready app with 10 active testers

---

## 10. Success Tracking

### Sprint Milestones

**Sprint 1 (Week 1-2):**

- [ ] Scanner successfully reads UPC/EAN barcodes
- [ ] Manual entry form functional
- [ ] Running total calculates correctly
- [ ] Tested in 3+ real grocery stores

**Sprint 2 (Week 3-4):**

- [ ] User can sign up and login
- [ ] Purchase saves to database
- [ ] Purchase history displays correctly
- [ ] API response times < 200ms

**Sprint 3 (Week 5-6):**

- [ ] Dashboard shows accurate monthly spending
- [ ] Budget tracking functional
- [ ] Beta deployed to 10 users
- [ ] 7/10 users complete 2+ shopping trips in 2 weeks

### Beta Validation Criteria

**Primary Success Indicator:**

- ‚â•7/10 beta users actively use app for 2+ shopping trips within 2-week testing period

**Secondary Indicators:**

- Scanner success rate >85% (successful scans / total attempts)
- User feedback: "I want to keep using this" from ‚â•5/10 users
- Zero critical bugs reported
- Average time to complete purchase session < 10 minutes

---

## Quick Reference

### Product Hierarchy

```
Bippi
‚îú‚îÄ‚îÄ Authentication
‚îÇ   ‚îú‚îÄ‚îÄ Signup (email/social)
‚îÇ   ‚îî‚îÄ‚îÄ Login
‚îú‚îÄ‚îÄ Shopping Session
‚îÇ   ‚îú‚îÄ‚îÄ Scanner Mode
‚îÇ   ‚îú‚îÄ‚îÄ Manual Entry
‚îÇ   ‚îú‚îÄ‚îÄ Running Total
‚îÇ   ‚îî‚îÄ‚îÄ Save Purchase
‚îú‚îÄ‚îÄ Dashboard
‚îÇ   ‚îú‚îÄ‚îÄ Monthly Spending
‚îÇ   ‚îú‚îÄ‚îÄ Budget Tracker
‚îÇ   ‚îî‚îÄ‚îÄ Recent Purchases
‚îú‚îÄ‚îÄ History
‚îÇ   ‚îú‚îÄ‚îÄ All Purchases
‚îÇ   ‚îú‚îÄ‚îÄ Filters (store/date)
‚îÇ   ‚îî‚îÄ‚îÄ Purchase Details
‚îî‚îÄ‚îÄ Products
    ‚îî‚îÄ‚îÄ Frequent Items List
```

### API Endpoints Summary

```
POST /auth/signup
POST /auth/login
GET  /auth/me

POST /purchases
GET  /purchases
GET  /purchases/{id}
DELETE /purchases/{id}

POST /items
GET  /purchases/{id}/items

GET  /products/barcode/{code}
POST /products
```

---

## Document Maintenance

**Este PRD alimenta:**
‚Üí Product Backlog (todas las User Stories)  
‚Üí Sprint Planning (priorizamos del backlog cada 2 semanas)  
‚Üí Technical Spec (detalles de implementaci√≥n)

**Frecuencia de revisi√≥n:** Post-beta (after Week 6) y luego cada 3 meses o cuando haya cambio mayor en scope

**Next Review Date:** December 22, 2025 (post-beta retrospective)

---

**Document Owner:** Development Team  
**Stakeholders:** Beta User Cohort (10 users)  
**Last Updated:** October 27, 2025
